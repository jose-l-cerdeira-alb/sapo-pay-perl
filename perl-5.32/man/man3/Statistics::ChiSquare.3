.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.40)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "Statistics::ChiSquare 3"
.TH Statistics::ChiSquare 3 "2016-10-21" "perl v5.32.0" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
"Statistics::ChiSquare" \- How well\-distributed is your data?
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
.Vb 1
\&    use Statistics::ChiSquare;
\&
\&    print chisquare(@array_of_numbers);
.Ve
.PP
Statistics::ChiSquare is available at a \s-1CPAN\s0 site near you.
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
Suppose you flip a coin 100 times, and it turns up heads 70 times.
\&\fIIs the coin fair?\fR
.PP
Suppose you roll a die 100 times, and it shows 30 sixes.  
\&\fIIs the die loaded?\fR
.PP
In statistics, the \fBchi-square\fR test calculates how well a series
of numbers fits a distribution.  In this module, we only test for
whether results fit an even distribution.  It doesn't simply say
\&\*(L"yes\*(R" or \*(L"no\*(R".  Instead, it
gives you a \fIconfidence interval\fR, which sets upper and lower bounds
on the likelihood that the variation in your data is due to chance.
See the examples below.
.PP
If you've ever studied elementary genetics, you've probably heard
about Gregor Mendel.  He was a wacky Austrian botanist who discovered
(in 1865) that traits could be inherited in a predictable fashion.  He
did lots of experiments with cross breeding peas: green peas, yellow
peas, smooth peas, wrinkled peas.  A veritable Brave New World of legumes.
.PP
But Mendel faked his data.  A statistician by the name of R. A. Fisher used
the chi-square test to prove it.
.SH "FUNCTIONS"
.IX Header "FUNCTIONS"
.SS "chisquare"
.IX Subsection "chisquare"
There's just one function in this module: \fBchisquare()\fR.  Instead of
returning the bounds on the confidence interval in a tidy little
two-element array, it returns an English string.  This was a deliberate
design choice\-\-\-many people misinterpret chi-square results, and the
string helps clarify the meaning.
.PP
The string returned by \fBchisquare()\fR will always match one of these patterns:
.PP
.Vb 1
\&  ".*!" (ie strings ending in an exclamation)
.Ve
.PP
various error messages for when you supply Obviously Wrong data.
.PP
.Vb 1
\&  "There\*(Aqs a >\ed+% chance, and a <\ed+% chance, that this data is random."
.Ve
.PP
or
.PP
.Vb 1
\&  "There\*(Aqs a <\ed+% chance that this data is random."
.Ve
.PP
or
.PP
.Vb 1
\&  "I can\*(Aqt handle \ed+ choices without a better table."
.Ve
.PP
That last one deserves a bit more explanation.  The \*(L"modern\*(R"
chi-square test uses a table of values (based on Pearson's
approximation) to avoid expensive calculations.  Thanks to the table,
the \fBchisquare()\fR calculation is very fast, but there are some
collections of data it can't handle, including any collection with more
than 250 slots.  So you can't calculate the randomness of a 500\-sided
die should such an insane thing ever exist.
.PP
You will also notice that the percentage points that have been tabulated
for different numbers of data points \- that is, for different degrees of
freedom \- differ.  The table in Jon Orwant's original version has
data tabulated for 100%, 99%, 95%, 90%, 70%, 50%, 30%, 10%, 5%, and 1%
likelihoods.  Data added later by David Cantrell is tabulated for
100%, 99%, 95%, 90%, 75%, 50%, 25%, 10%, 5%, and 1% likelihoods.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
Imagine a coin flipped 1000 times.  The expected outcome is 
500 heads and 500 tails:
.PP
.Vb 2
\&  @coin = (500, 500);
\&  print chisquare(@coin);
.Ve
.PP
prints "There's a >90% chance, and a <100% chance, that this data is random.
.PP
Imagine a die rolled 60 times that shows sixes just a wee bit too often.
.PP
.Vb 2
\&  @die1  = (8, 7, 9, 8, 8, 20);
\&  print chisquare(@die1);
.Ve
.PP
prints "There's a >1% chance, and a <5% chance, that this data is random.
.PP
Imagine a die rolled 600 times that shows sixes \fBway\fR too often.
.PP
.Vb 2
\&  @die2  = (80, 70, 90, 80, 80, 200);
\&  print chisquare(@die2);
.Ve
.PP
prints \*(L"There's a <1% chance that this data is random.\*(R"
.PP
How random is \fBrand()\fR?
.PP
.Vb 8
\&  srand(time ^ $$);
\&  @rands = ();
\&  for ($i = 0; $i < 60000; $i++) {
\&      $slot = int(rand(6));
\&      $rands[$slot]++;
\&  }
\&  print "@rands\en";
\&  print chisquare(@rands);
.Ve
.PP
prints (on my machine)
.PP
.Vb 2
\&  10156 10041 9991 9868 10034 9910
\&  There\*(Aqs a >10% chance, and a <50% chance, that this data is random.
.Ve
.PP
So much for pseudorandom number generation.
.SH "AUTHORS and LICENCE"
.IX Header "AUTHORS and LICENCE"
Jon Orwant, Readable Publications, Inc; orwant@oreilly.com
.PP
Maintained and updated since October 2003 by David Cantrell,
david@cantrell.org.uk
.PP
This software is free-as-in-speech software, and may be used, distributed,
and modified under the terms of either the \s-1GNU\s0 General Public Licence
version 2 or the Artistic Licence. It's up to you which one you use. The
full text of the licences can be found in the files \s-1GPL2\s0.txt and
\&\s-1ARTISTIC\s0.txt, respectively.
.SH "DATA SOURCE"
.IX Header "DATA SOURCE"
Data for 31 to 250 degrees of freedom is from Wikibooks <https://en.wikibooks.org/wiki/Engineering_Tables/Chi-Squared_Distibution>
and is covered by the Creative Commons attribution-sharealike licence <https://creativecommons.org/licenses/by-sa/3.0/>.
