.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.01 (Pod::Simple 3.43)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "Type::Tiny::Intersection 3"
.TH Type::Tiny::Intersection 3 2023-04-05 "perl v5.38.2" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
Type::Tiny::Intersection \- intersection type constraints
.SH SYNOPSIS
.IX Header "SYNOPSIS"
Using via the \f(CW\*(C`&\*(C'\fR operator overload:
.PP
.Vb 3
\&  package Local::Stash {
\&    use Moo;
\&    use Types::Common qw( LowerCaseStr StrLength );
\&    
\&    has identifier => (
\&      is   => \*(Aqro\*(Aq,
\&      isa  => (LowerCaseStr) & (StrLength[4, 8]),
\&    );
\&  }
\&  
\&  my $x = Local::Stash\->new( data => {} );  # not ok
\&  my $y = Local::Stash\->new( data => [] );  # not ok
.Ve
.PP
Note that it is a good idea to enclose each type being intersected
in parentheses to avoid Perl thinking the \f(CW\*(C`&\*(C'\fR is the sigil for
a coderef.
.PP
Using Type::Tiny::Intersection's object-oriented interface:
.PP
.Vb 4
\&  package Local::Stash {
\&    use Moo;
\&    use Types::Common qw( LowerCaseStr StrLength );
\&    use Type::Tiny::Intersection;
\&    
\&    my $ShortLcStr = Type::Tiny::Intersection\->new(
\&      name             => \*(AqAnyData\*(Aq,
\&      type_constraints => [ LowerCaseStr, StrLength[4, 8] ],
\&    );
\&    
\&    has identifier => (
\&      is   => \*(Aqro\*(Aq,
\&      isa  => $ShortLcStr,
\&    );
\&  }
.Ve
.PP
Using Type::Utils's functional interface:
.PP
.Vb 4
\&  package Local::Stash {
\&    use Moo;
\&    use Types::Common qw( LowerCaseStr StrLength );
\&    use Type::Utils;
\&    
\&    my $ShortLcStr = intersection ShortLcStr => [ LowerCaseStr, StrLength[4, 8] ];
\&    
\&    has identifier => (
\&      is   => \*(Aqro\*(Aq,
\&      isa  => $ShortLcStr,
\&    );
\&  }
.Ve
.SH STATUS
.IX Header "STATUS"
This module is covered by the
Type-Tiny stability policy.
.SH DESCRIPTION
.IX Header "DESCRIPTION"
Intersection type constraints.
.PP
Intersection type constraints are not often very useful. Consider the
intersection of \fBHashRef\fR and \fBArrayRef\fR. A value will only pass if
it is both a hashref and an arrayref. Given that neither of those type
constraints accept \f(CW\*(C`undef\*(C'\fR or overloaded objects, there is no possible
value that can pass both.
.PP
Which is not to say that intersections are never useful, but it happens
quite rarely.
.PP
This package inherits from Type::Tiny; see that for most documentation.
Major differences are listed below:
.SS Constructor
.IX Subsection "Constructor"
The \f(CW\*(C`new\*(C'\fR constructor from Type::Tiny still works, of course. But there
is also:
.ie n .IP new_by_overload(%attributes) 4
.el .IP \f(CWnew_by_overload(%attributes)\fR 4
.IX Item "new_by_overload(%attributes)"
Like the \f(CW\*(C`new\*(C'\fR constructor, but will sometimes return another type
constraint which is not strictly an instance of Type::Tiny::Intersection,
but still encapsulates the same meaning. This constructor is used by
Type::Tiny's overloading of the \f(CW\*(C`&\*(C'\fR operator.
.SS Attributes
.IX Subsection "Attributes"
.ie n .IP """type_constraints""" 4
.el .IP \f(CWtype_constraints\fR 4
.IX Item "type_constraints"
Arrayref of type constraints.
.Sp
When passed to the constructor, if any of the type constraints in the
intersection is itself an intersection type constraint, this is "exploded"
into the new intersection.
.ie n .IP """constraint""" 4
.el .IP \f(CWconstraint\fR 4
.IX Item "constraint"
Unlike Type::Tiny, you \fIcannot\fR pass a constraint coderef to the constructor.
Instead rely on the default.
.ie n .IP """inlined""" 4
.el .IP \f(CWinlined\fR 4
.IX Item "inlined"
Unlike Type::Tiny, you \fIcannot\fR pass an inlining coderef to the constructor.
Instead rely on the default.
.ie n .IP """parent""" 4
.el .IP \f(CWparent\fR 4
.IX Item "parent"
Unlike Type::Tiny, you \fIcannot\fR pass an inlining coderef to the constructor.
A parent will instead be automatically calculated.
.Sp
(Technically any of the types in the intersection could be treated as a
parent type; we choose the first arbitrarily.)
.SS Methods
.IX Subsection "Methods"
.ie n .IP stringifies_to($constraint) 4
.el .IP \f(CWstringifies_to($constraint)\fR 4
.IX Item "stringifies_to($constraint)"
See Type::Tiny::ConstrainedObject.
.ie n .IP numifies_to($constraint) 4
.el .IP \f(CWnumifies_to($constraint)\fR 4
.IX Item "numifies_to($constraint)"
See Type::Tiny::ConstrainedObject.
.ie n .IP """with_attribute_values($attr1 => $constraint1, ...)""" 4
.el .IP "\f(CWwith_attribute_values($attr1 => $constraint1, ...)\fR" 4
.IX Item "with_attribute_values($attr1 => $constraint1, ...)"
See Type::Tiny::ConstrainedObject.
.SS Overloading
.IX Subsection "Overloading"
.IP \(bu 4
Arrayrefification calls \f(CW\*(C`type_constraints\*(C'\fR.
.SH BUGS
.IX Header "BUGS"
Please report any bugs to
<https://github.com/tobyink/p5\-type\-tiny/issues>.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
Type::Tiny::Manual.
.PP
Type::Tiny.
.PP
MooseX::Meta::TypeConstraint::Intersection.
.SH AUTHOR
.IX Header "AUTHOR"
Toby Inkster <tobyink@cpan.org>.
.SH "COPYRIGHT AND LICENCE"
.IX Header "COPYRIGHT AND LICENCE"
This software is copyright (c) 2013\-2014, 2017\-2023 by Toby Inkster.
.PP
This is free software; you can redistribute it and/or modify it under
the same terms as the Perl 5 programming language system itself.
.SH "DISCLAIMER OF WARRANTIES"
.IX Header "DISCLAIMER OF WARRANTIES"
THIS PACKAGE IS PROVIDED "AS IS" AND WITHOUT ANY EXPRESS OR IMPLIED
WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED WARRANTIES OF
MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
