.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.01 (Pod::Simple 3.43)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "Mail::Message::Field::Attribute 3"
.TH Mail::Message::Field::Attribute 3 2023-12-11 "perl v5.38.2" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
Mail::Message::Field::Attribute \- one attribute of a full field
.SH INHERITANCE
.IX Header "INHERITANCE"
.Vb 2
\& Mail::Message::Field::Attribute
\&   is a Mail::Reporter
.Ve
.SH SYNOPSIS
.IX Header "SYNOPSIS"
.Vb 3
\& my $field    = $msg\->head\->get(\*(AqContent\-Disposition\*(Aq) or return;
\& my $full     = $field\->study;   # full understanding in unicode
\& my $filename = $full\->attribute(\*(Aqfilename\*(Aq)           or return;
\&
\& print ref $filename;     # this class name
\& print $filename;         # the attributes content in utf\-8
\& print $filename\->value;  # same
\& print $filename\->string; # print string as was found in the file
\& $filename\->print(\e*OUT); # print as was found in the file
.Ve
.SH DESCRIPTION
.IX Header "DESCRIPTION"
Attributes within MIME fields can be quite complex, and therefore be slow
and consumes a lot of memory.  The Mail::Message::Field::Fast and
Mail::Message::Field::Flex simplify them the attributes a lot, which
may result in erroneous behavior in rare cases.  With the increase of
non-western languages on Internet, the need for the complex headers
becomes more and more in demand.
.PP
A \f(CW\*(C`Mail::Message::Field::Attribute\*(C'\fR can be found in any structured
Mail::Message::Field::Full header field.
.PP
Extends "DESCRIPTION" in Mail::Reporter.
.SH OVERLOADED
.IX Header "OVERLOADED"
.IP "overload: \fBcomparison\fR" 4
.IX Item "overload: comparison"
When the second argument is a field, then both attribute name (case-sensitive)
and the decoded value must be the same.  Otherwise, the value is compared.
.IP "overload: \fBstringification\fR" 4
.IX Item "overload: stringification"
Returns the decoded content of the attribute.
.SH METHODS
.IX Header "METHODS"
Extends "METHODS" in Mail::Reporter.
.SS Constructors
.IX Subsection "Constructors"
Extends "Constructors" in Mail::Reporter.
.ie n .IP "Mail::Message::Field::Attribute\->\fBnew\fR( <$name, [$value] | STRING>, %options )" 4
.el .IP "Mail::Message::Field::Attribute\->\fBnew\fR( <$name, [$value] | STRING>, \f(CW%options\fR )" 4
.IX Item "Mail::Message::Field::Attribute->new( <$name, [$value] | STRING>, %options )"
Create a new attribute \f(CW$name\fR with the optional \f(CW$value\fR.  If no \f(CW$value\fR is specified,
the first argument of this method is inspected for an equals sign \f(CW\*(Aq=\*(Aq\fR.
If that character is present, the argument is taken as STRING, containing
a preformatted attribute which is processed.  Otherwise, the argument is
taken as name without \f(CW$value:\fR set the value later with \fBvalue()\fR.
.Sp
Whether encoding takes place depends on the \f(CW%options\fR and the existence
of non-ascii characters in the \f(CW$value\fR.  The \f(CW$name\fR can only contain ascii
characters, hence is never encoded.
.Sp
To speed things up, attributes are not derived from the Mail::Reporter
base-class.
.Sp
.Vb 6
\& \-Option           \-\-Defined in     \-\-Default
\&  charset                             \*(Aqus\-ascii\*(Aq
\&  language                            undef
\&  log                Mail::Reporter   \*(AqWARNINGS\*(Aq
\&  trace              Mail::Reporter   \*(AqWARNINGS\*(Aq
\&  use_continuations                   <true>
.Ve
.RS 4
.IP "charset => STRING" 2
.IX Item "charset => STRING"
The \f(CW$value\fR is translated from utf\-8 (Perl internal) to this character set,
and the resulting string is encoded if required.  \f(CW\*(C`us\-ascii\*(C'\fR is the normal
encoding for e\-mail.  Valid character sets can be found with 
Encode::encodings(':all').
.IP "language => STRING" 2
.IX Item "language => STRING"
RFC2231 adds the possibility to specify a language with the field.  When no
language is specified, none is included in the encoding.  Valid language
names are defined by RFC2130.  This module has only limited support for
this feature.
.IP "log => LEVEL" 2
.IX Item "log => LEVEL"
.PD 0
.IP "trace => LEVEL" 2
.IX Item "trace => LEVEL"
.IP "use_continuations => BOOLEAN" 2
.IX Item "use_continuations => BOOLEAN"
.PD
Continuations are used to break-up long parameters into pieces which
are no longer than 76 characters. Encodings are specified in RFC2231,
but not supported by some Mail User Agents.
.RE
.RS 4
.Sp
example:
.Sp
.Vb 2
\& my $fn    = Mail::Message::Field::Attribute
\&                \->new(filename => \*(Aqxyz\*(Aq);
\&
\& my $fattr = \*(AqMail::Message::Field::Attribute\*(Aq;  # abbrev
\& my $fn    = $fattr\->new
\&   ( filename => "Re\exC7u"
\&   , charset  => \*(Aqiso\-8859\-15\*(Aq
\&   , language => \*(Aqnl\-BE\*(Aq
\&   );
\& print $fn;
\&   # \-\->  filename*=iso\-8859\-15\*(Aqnl\-BE\*(AqRe%C7u
.Ve
.RE
.SS "Error handling"
.IX Subsection "Error handling"
Extends "Error handling" in Mail::Reporter.
.ie n .IP $obj\->\fBAUTOLOAD\fR() 4
.el .IP \f(CW$obj\fR\->\fBAUTOLOAD\fR() 4
.IX Item "$obj->AUTOLOAD()"
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP $obj\->\fBaddReport\fR($object) 4
.el .IP \f(CW$obj\fR\->\fBaddReport\fR($object) 4
.IX Item "$obj->addReport($object)"
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP "$obj\->\fBdefaultTrace\fR( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )" 4
.el .IP "\f(CW$obj\fR\->\fBdefaultTrace\fR( [$level]|[$loglevel, \f(CW$tracelevel\fR]|[$level, \f(CW$callback\fR] )" 4
.IX Item "$obj->defaultTrace( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )"
.PD 0
.ie n .IP "Mail::Message::Field::Attribute\->\fBdefaultTrace\fR( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )" 4
.el .IP "Mail::Message::Field::Attribute\->\fBdefaultTrace\fR( [$level]|[$loglevel, \f(CW$tracelevel\fR]|[$level, \f(CW$callback\fR] )" 4
.IX Item "Mail::Message::Field::Attribute->defaultTrace( [$level]|[$loglevel, $tracelevel]|[$level, $callback] )"
.PD
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP $obj\->\fBerrors\fR() 4
.el .IP \f(CW$obj\fR\->\fBerrors\fR() 4
.IX Item "$obj->errors()"
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP "$obj\->\fBlog\fR( [$level, [$strings]] )" 4
.el .IP "\f(CW$obj\fR\->\fBlog\fR( [$level, [$strings]] )" 4
.IX Item "$obj->log( [$level, [$strings]] )"
.PD 0
.IP "Mail::Message::Field::Attribute\->\fBlog\fR( [$level, [$strings]] )" 4
.IX Item "Mail::Message::Field::Attribute->log( [$level, [$strings]] )"
.PD
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP $obj\->\fBlogPriority\fR($level) 4
.el .IP \f(CW$obj\fR\->\fBlogPriority\fR($level) 4
.IX Item "$obj->logPriority($level)"
.PD 0
.IP Mail::Message::Field::Attribute\->\fBlogPriority\fR($level) 4
.IX Item "Mail::Message::Field::Attribute->logPriority($level)"
.PD
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP $obj\->\fBlogSettings\fR() 4
.el .IP \f(CW$obj\fR\->\fBlogSettings\fR() 4
.IX Item "$obj->logSettings()"
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP $obj\->\fBnotImplemented\fR() 4
.el .IP \f(CW$obj\fR\->\fBnotImplemented\fR() 4
.IX Item "$obj->notImplemented()"
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP "$obj\->\fBreport\fR( [$level] )" 4
.el .IP "\f(CW$obj\fR\->\fBreport\fR( [$level] )" 4
.IX Item "$obj->report( [$level] )"
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP "$obj\->\fBreportAll\fR( [$level] )" 4
.el .IP "\f(CW$obj\fR\->\fBreportAll\fR( [$level] )" 4
.IX Item "$obj->reportAll( [$level] )"
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP "$obj\->\fBtrace\fR( [$level] )" 4
.el .IP "\f(CW$obj\fR\->\fBtrace\fR( [$level] )" 4
.IX Item "$obj->trace( [$level] )"
Inherited, see "Error handling" in Mail::Reporter
.ie n .IP $obj\->\fBwarnings\fR() 4
.el .IP \f(CW$obj\fR\->\fBwarnings\fR() 4
.IX Item "$obj->warnings()"
Inherited, see "Error handling" in Mail::Reporter
.SS Cleanup
.IX Subsection "Cleanup"
Extends "Cleanup" in Mail::Reporter.
.ie n .IP $obj\->\fBDESTROY\fR() 4
.el .IP \f(CW$obj\fR\->\fBDESTROY\fR() 4
.IX Item "$obj->DESTROY()"
Inherited, see "Cleanup" in Mail::Reporter
.SS "The attribute"
.IX Subsection "The attribute"
.ie n .IP $obj\->\fBaddComponent\fR(STRING) 4
.el .IP \f(CW$obj\fR\->\fBaddComponent\fR(STRING) 4
.IX Item "$obj->addComponent(STRING)"
A component is a parameter as defined by RFC2045, optionally using
encoding or continuations as defined by RFC2231.  Components of an
attribute are found when a field is being parsed.  The RFCs are
very strict on valid characters, but we cannot be: you have to accept
what is coming in if you can.
.Sp
example:
.Sp
.Vb 2
\& my $param = Mail::Message::Field::Attribute\->new;
\& $param\->addComponent("filename*=iso10646\*(Aqnl\-BE\*(Aq%Re\e47u");
.Ve
.ie n .IP $obj\->\fBcharset\fR() 4
.el .IP \f(CW$obj\fR\->\fBcharset\fR() 4
.IX Item "$obj->charset()"
Returns the character set which is used for this parameter.  If any component
is added which contains character set information, this is directly
available.  Be warned that a character-set is case insensitive.
.ie n .IP $obj\->\fBlanguage\fR() 4
.el .IP \f(CW$obj\fR\->\fBlanguage\fR() 4
.IX Item "$obj->language()"
Returns the language which is defined in the argument.  If no language is
defined \f(CW\*(C`undef\*(C'\fR is returned, which should be interpreted as "ANY"
.ie n .IP $obj\->\fBname\fR() 4
.el .IP \f(CW$obj\fR\->\fBname\fR() 4
.IX Item "$obj->name()"
Returns the name of this attribute.
.ie n .IP $obj\->\fBstring\fR() 4
.el .IP \f(CW$obj\fR\->\fBstring\fR() 4
.IX Item "$obj->string()"
Returns the parameter as reference to an array of lines.  When only one line
is returned, it may be short enough to fit on the same line with other
components of the header field.
.ie n .IP "$obj\->\fBvalue\fR( [STRING] )" 4
.el .IP "\f(CW$obj\fR\->\fBvalue\fR( [STRING] )" 4
.IX Item "$obj->value( [STRING] )"
Returns the value of this parameter, optionally after setting it first.
.SS "Attribute encoding"
.IX Subsection "Attribute encoding"
.ie n .IP $obj\->\fBdecode\fR() 4
.el .IP \f(CW$obj\fR\->\fBdecode\fR() 4
.IX Item "$obj->decode()"
Translate all known continuations into a value.  The produced value is
returned and may be utf\-8 encoded or a plain string.
.ie n .IP $obj\->\fBencode\fR() 4
.el .IP \f(CW$obj\fR\->\fBencode\fR() 4
.IX Item "$obj->encode()"
.SS Internals
.IX Subsection "Internals"
.PD 0
.ie n .IP $obj\->\fBmergeComponent\fR($attribute) 4
.el .IP \f(CW$obj\fR\->\fBmergeComponent\fR($attribute) 4
.IX Item "$obj->mergeComponent($attribute)"
.PD
Merge the components from the specified attribute into this attribute.  This
is needed when components of the same attribute are created separately.
Merging is required by the field parsing.
.SH DIAGNOSTICS
.IX Header "DIAGNOSTICS"
.IP "Warning: Illegal character in parameter name '$name'" 4
.IX Item "Warning: Illegal character in parameter name '$name'"
The specified parameter name contains characters which are not permitted by
the RFCs.  You can better change the name into something which is accepted,
or risk applications to corrupt or ignore the message.
.ie n .IP "Error: Package $package does not implement $method." 4
.el .IP "Error: Package \f(CW$package\fR does not implement \f(CW$method\fR." 4
.IX Item "Error: Package $package does not implement $method."
Fatal error: the specific package (or one of its superclasses) does not
implement this method where it should. This message means that some other
related classes do implement this method however the class at hand does
not.  Probably you should investigate this and probably inform the author
of the package.
.IP "Error: Too late to merge: value already changed." 4
.IX Item "Error: Too late to merge: value already changed."
.SH "SEE ALSO"
.IX Header "SEE ALSO"
This module is part of Mail-Message distribution version 3.015,
built on December 11, 2023. Website: \fIhttp://perl.overmeer.net/CPAN/\fR
.SH LICENSE
.IX Header "LICENSE"
Copyrights 2001\-2023 by [Mark Overmeer <markov@cpan.org>]. For other contributors see ChangeLog.
.PP
This program is free software; you can redistribute it and/or modify it
under the same terms as Perl itself.
See \fIhttp://dev.perl.org/licenses/\fR
